/*!
 * webgl-utils.js v1.1.0 - https://github.com/Fi1osof/webgl-utils#readme
 * MIT Licensed
 */
!function(r,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.m3=n():r.m3=n()}(window,(function(){return function(r){var n={};function t(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:e})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,n){if(1&n&&(r=t(r)),8&n)return r;if(4&n&&"object"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:r}),2&n&&"string"!=typeof r)for(var o in r)t.d(e,o,function(n){return r[n]}.bind(null,o));return e},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p="",t(t.s=0)}([function(r,n,t){r.exports=t(1)},function(r,n,t){"use strict";function e(r){var n=0;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(r=function(r,n){if(!r)return;if("string"==typeof r)return o(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(r);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(r,n)}(r)))return function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=r[Symbol.iterator]()).next.bind(n)}function o(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function i(r){console.error(r)}function u(r,n,t,e){var o=e||i,u=r.createShader(t);return r.shaderSource(u,n),r.compileShader(u),r.getShaderParameter(u,r.COMPILE_STATUS)?u:(o("*** Error compiling shader '"+u+"':"+r.getShaderInfoLog(u)),r.deleteShader(u),null)}function f(r,n,t,e,o){var u=o||i,f=r.createProgram();return n.forEach((function(n){r.attachShader(f,n)})),t&&t.forEach((function(n,t){r.bindAttribLocation(f,e?e[t]:t,n)})),r.linkProgram(f),r.getProgramParameter(f,r.LINK_STATUS)?f:(u("Error in program linking:"+r.getProgramInfoLog(f)),r.deleteProgram(f),null)}function a(r,n,t,e){var o,i,f=document.getElementById(n);if(!f)throw"*** Error: unknown script element"+n;if(o=f.text,!t)if("x-shader/x-vertex"===f.type)i=r.VERTEX_SHADER;else if("x-shader/x-fragment"===f.type)i=r.FRAGMENT_SHADER;else if(i!==r.VERTEX_SHADER&&i!==r.FRAGMENT_SHADER)throw"*** Error: unknown shader type";return u(r,o,t||i,e)}t.r(n),t.d(n,"createAugmentedTypedArray",(function(){return _})),t.d(n,"createAttribsFromArrays",(function(){return w})),t.d(n,"createBuffersFromArrays",(function(){return V})),t.d(n,"createBufferInfoFromArrays",(function(){return j})),t.d(n,"createAttributeSetters",(function(){return A})),t.d(n,"createProgram",(function(){return f})),t.d(n,"createProgramFromScripts",(function(){return s})),t.d(n,"createProgramFromSources",(function(){return l})),t.d(n,"createProgramInfo",(function(){return y})),t.d(n,"createUniformSetters",(function(){return d})),t.d(n,"createVAOAndSetAttributes",(function(){return b})),t.d(n,"createVAOFromBufferInfo",(function(){return p})),t.d(n,"drawBufferInfo",(function(){return k})),t.d(n,"drawObjectList",(function(){return D})),t.d(n,"glEnumToString",(function(){return H})),t.d(n,"getExtensionWithKnownPrefixes",(function(){return T})),t.d(n,"loadShader",(function(){return u})),t.d(n,"resizeCanvasToDisplaySize",(function(){return S})),t.d(n,"setAttributes",(function(){return E})),t.d(n,"setBuffersAndAttributes",(function(){return g})),t.d(n,"setUniforms",(function(){return v}));var c=["VERTEX_SHADER","FRAGMENT_SHADER"];function s(r,n,t,e,o){for(var i=[],u=0;u<n.length;++u)i.push(a(r,n[u],r[c[u]],o));return f(r,i,t,e,o)}function l(r,n,t,e,o){for(var i=[],a=0;a<n.length;++a)i.push(u(r,n[a],r[c[a]],o));return f(r,i,t,e,o)}function m(r,n){return n===r.SAMPLER_2D?r.TEXTURE_2D:n===r.SAMPLER_CUBE?r.TEXTURE_CUBE_MAP:void 0}function d(r,n){var t=0;function e(n,e){var o,i,u=r.getUniformLocation(n,e.name),f=e.type,a=e.size>1&&"[0]"===e.name.substr(-3);if(f===r.FLOAT&&a)return function(n){r.uniform1fv(u,n)};if(f===r.FLOAT)return function(n){r.uniform1f(u,n)};if(f===r.FLOAT_VEC2)return function(n){r.uniform2fv(u,n)};if(f===r.FLOAT_VEC3)return function(n){r.uniform3fv(u,n)};if(f===r.FLOAT_VEC4)return function(n){r.uniform4fv(u,n)};if(f===r.INT&&a)return function(n){r.uniform1iv(u,n)};if(f===r.INT)return function(n){r.uniform1i(u,n)};if(f===r.INT_VEC2)return function(n){r.uniform2iv(u,n)};if(f===r.INT_VEC3)return function(n){r.uniform3iv(u,n)};if(f===r.INT_VEC4)return function(n){r.uniform4iv(u,n)};if(f===r.BOOL)return function(n){r.uniform1iv(u,n)};if(f===r.BOOL_VEC2)return function(n){r.uniform2iv(u,n)};if(f===r.BOOL_VEC3)return function(n){r.uniform3iv(u,n)};if(f===r.BOOL_VEC4)return function(n){r.uniform4iv(u,n)};if(f===r.FLOAT_MAT2)return function(n){r.uniformMatrix2fv(u,!1,n)};if(f===r.FLOAT_MAT3)return function(n){r.uniformMatrix3fv(u,!1,n)};if(f===r.FLOAT_MAT4)return function(n){r.uniformMatrix4fv(u,!1,n)};if((f===r.SAMPLER_2D||f===r.SAMPLER_CUBE)&&a){for(var c=[],s=0;s<info.size;++s)c.push(t++);return function(n,t){return function(e){r.uniform1iv(u,t),e.forEach((function(e,o){r.activeTexture(r.TEXTURE0+t[o]),r.bindTexture(n,e)}))}}(m(r,f),c)}if(f===r.SAMPLER_2D||f===r.SAMPLER_CUBE)return o=m(r,f),i=t++,function(n){r.uniform1i(u,i),r.activeTexture(r.TEXTURE0+i),r.bindTexture(o,n)};throw"unknown type: 0x"+f.toString(16)}for(var o={},i=r.getProgramParameter(n,r.ACTIVE_UNIFORMS),u=0;u<i;++u){var f=r.getActiveUniform(n,u);if(!f)break;var a=f.name;"[0]"===a.substr(-3)&&(a=a.substr(0,a.length-3));var c=e(n,f);o[a]=c}return o}function v(r){r=r.uniformSetters||r;for(var n=arguments.length,t=new Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];for(var o=function(){var n=u[i];Object.keys(n).forEach((function(t){var e=r[t];e&&e(n[t])}))},i=0,u=t;i<u.length;i++)o()}function A(r,n){var t={};function e(n){return function(t){if(t.value)switch(r.disableVertexAttribArray(n),t.value.length){case 4:r.vertexAttrib4fv(n,t.value);break;case 3:r.vertexAttrib3fv(n,t.value);break;case 2:r.vertexAttrib2fv(n,t.value);break;case 1:r.vertexAttrib1fv(n,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.enableVertexAttribArray(n),r.vertexAttribPointer(n,t.numComponents||t.size,t.type||r.FLOAT,t.normalize||!1,t.stride||0,t.offset||0)}}for(var o=r.getProgramParameter(n,r.ACTIVE_ATTRIBUTES),i=0;i<o;++i){var u=r.getActiveAttrib(n,i);if(!u)break;var f=r.getAttribLocation(n,u.name);t[u.name]=e(f)}return t}function E(r,n){r=r.attribSetters||r,Object.keys(n).forEach((function(t){var e=r[t];e&&e(n[t])}))}function b(r,n,t,e){var o=r.createVertexArray();return r.bindVertexArray(o),E(n,t),e&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e),r.bindVertexArray(null),o}function p(r,n,t){return b(r,n.attribSetters||n,t.attribs,t.indices)}function y(r,n,t,e,o){var i=l(r,n=n.map((function(r){var n=document.getElementById(r);return n?n.text:r})),t,e,o);return i?{program:i,uniformSetters:d(r,i),attribSetters:A(r,i)}:null}function g(r,n,t){E(n,t.attribs),t.indices&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indices)}var h=["","MOZ_","OP_","WEBKIT_"];function T(r,n){for(var t=0;t<h.length;++t){var e=h[t]+n,o=r.getExtension(e);if(o)return o}}function S(r,n){n=n||1;var t=r.clientWidth*n|0,e=r.clientHeight*n|0;return(r.width!==t||r.height!==e)&&(r.width=t,r.height=e,!0)}function _(r,n,t){return function(r,n){var t=0;return r.push=function(){for(var n=0;n<arguments.length;++n){var e=arguments[n];if(e instanceof Array||e.buffer&&e.buffer instanceof ArrayBuffer)for(var o=0;o<e.length;++o)r[t++]=e[o];else r[t++]=e}},r.reset=function(r){t=r||0},r.numComponents=n,Object.defineProperty(r,"numElements",{get:function(){return this.length/this.numComponents|0}}),r}(new(t||Float32Array)(r*n),r)}function R(r,n,t,e){t=t||r.ARRAY_BUFFER;var o=r.createBuffer();return r.bindBuffer(t,o),r.bufferData(t,n,e||r.STATIC_DRAW),o}function x(r){return"indices"!==r}function O(r,n){if(n instanceof Int8Array)return r.BYTE;if(n instanceof Uint8Array)return r.UNSIGNED_BYTE;if(n instanceof Int16Array)return r.SHORT;if(n instanceof Uint16Array)return r.UNSIGNED_SHORT;if(n instanceof Int32Array)return r.INT;if(n instanceof Uint32Array)return r.UNSIGNED_INT;if(n instanceof Float32Array)return r.FLOAT;throw"unsupported typed array type"}function C(r){return r.buffer&&r.buffer instanceof ArrayBuffer}function I(r,n){var t;if(n%(t=r.indexOf("coord")>=0?2:r.indexOf("color")>=0?4:3)>0)throw"can not guess numComponents. You should specify it.";return t}function F(r,n){if(C(r))return r;if(r.data&&C(r.data))return r.data;Array.isArray(r)&&(r={data:r}),r.numComponents||(r.numComponents=I(n,r.length));var t=r.type;t||"indices"===n&&(t=Uint16Array);var e=_(r.numComponents,r.data.length/r.numComponents|0,t);return e.push(r.data),e}function w(r,n,t){var e=t||function(r){var n={};return Object.keys(r).filter(x).forEach((function(r){n["a_"+r]=r})),n}(n),o={};return Object.keys(e).forEach((function(t){var i,u=e[t],f=n[u];if(f.value)o[t]={value:f.value};else{var a=F(f,u);o[t]={buffer:R(r,a),numComponents:f.numComponents||a.numComponents||I(u),type:O(r,a),normalize:(i=a,i instanceof Int8Array||i instanceof Uint8Array)}}})),o}function L(r){return r.length?r:r.data}var B=/coord|texture/i,P=/color|colour/i;function U(r,n){return r.numComponents||r.size||function(r,n){var t;if(n%(t=B.test(r)?2:P.test(r)?4:3)>0)throw new Error("Can not guess numComponents for attribute '"+r+"'. Tried "+t+" but "+n+" values is not evenly divisible by "+t+". You should specify it.");return t}(n,L(r).length)}var M,N=["position","positions","a_position"];function j(r,n,t){var o={attribs:w(r,n,t)},i=n.indices;return i?(i=F(i,"indices"),o.indices=R(r,i,r.ELEMENT_ARRAY_BUFFER),o.numElements=i.length):o.numElements=function(r){for(var n,t,o=e(N);!(t=o()).done;){var i=t.value;if(i in r){n=i;break}}var u=r[n=n||Object.keys(r)[0]],f=L(u).length,a=U(u,n),c=f/a;if(f%a>0)throw new Error("numComponents "+a+" not correct for length "+f);return c}(n),o}function V(r,n){var t={};return Object.keys(n).forEach((function(e){var o="indices"===e?r.ELEMENT_ARRAY_BUFFER:r.ARRAY_BUFFER,i=F(n[e],name);t[e]=R(r,i,o)})),n.indices?t.numElements=n.indices.length:n.position&&(t.numElements=n.position.length/3),t}function k(r,n,t,e,o){var i=n.indices;t=void 0===t?r.TRIANGLES:t;var u=void 0===e?n.numElements:e;o=void 0===o?0:o,i?r.drawElements(t,u,r.UNSIGNED_SHORT,o):r.drawArrays(t,o,u)}function D(r,n){var t=null,e=null;n.forEach((function(n){var o=n.programInfo,i=n.bufferInfo,u=!1;o!==t&&(t=o,r.useProgram(o.program),u=!0),(u||i!==e)&&(e=i,g(r,o.attribSetters,i)),v(o.uniformSetters,n.uniforms),k(r,i)}))}function H(r,n){var t=[];for(var e in r)r[e]===n&&t.push(e);return t.length?t.join(" | "):"0x"+n.toString(16)}!!!document.documentMode&&!!window.StyleMedia&&(HTMLCanvasElement.prototype.getContext=(M=HTMLCanvasElement.prototype.getContext,function(){var r=arguments,n=r[0];return"webgl"===n&&((r=[].slice.call(arguments))[0]="experimental-webgl"),M.apply(this,r)}))}]).default}));
//# sourceMappingURL=webgl-utils.js.min.js.map